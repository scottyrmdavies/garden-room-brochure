<!DOCTYPE html>
<html>
<head>
  <title>Garden Room Brochure</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.transit/0.9.12/jquery.transit.min.js"></script>
  <style>
    body { 
      margin: 0; 
      background: #f2f2f2; 
      font-family: serif; 
      overflow: hidden;
    }

    #book { 
      perspective: 1800px; 
      width: 800px; 
      height: 600px; 
      position: absolute; 
      top: 50%; 
      left: 50%; 
      transform: translate(-50%, -50%); 
    }

    .page {
      position: absolute;
      width: 400px; 
      height: 600px; 
      background: white; 
      box-shadow: 0 0 5px rgba(0,0,0,0.3);
      overflow: hidden;
      transform-style: preserve-3d;
      transform-origin: left center;
      z-index: 2;
      cursor: grab;
    }

    .page:after {
      content: '';
      position: absolute;
      top: 0; left: 0; width: 100%; height: 100%;
      background: url('https://i.imgur.com/5x3x3x3.png'); /* paper texture */
      opacity: 0.15;
      pointer-events: none;
    }

    .content {
      padding: 40px;
      font-size: 18px;
      line-height: 1.7;
      text-align: justify;
    }

    #finger-cue {
      position: absolute;
      bottom: 60px;
      right: 40px;
      font-size: 60px;
      opacity: 0.6;
      color: #555;
      z-index: 1;
      cursor: pointer;
      user-select: none;
    }
  </style>
</head>
<body>

<div id="finger-cue">â†’</div>

<div id="book">
  <div class="page" style="z-index:9">
    <div class="content">
      <h2>Welcome</h2>
      <p>Turn the page to see our garden rooms...</p>
    </div>
  </div>

  <div class="page" style="z-index:8">
    <div class="content">
      <h2>Model A</h2>
      <p>Perfect for home office or gym.</p>
      <img src="https://via.placeholder.com/300x200?text=Garden+Room+A" style="max-width:100%">
    </div>
  </div>

  <div class="page" style="z-index:7">
    <div class="content">
      <h2>Model B</h2>
      <p>Family retreat. Insulated. Double glazed.</p>
      <img src="https://via.placeholder.com/300x200?text=Garden+Room+B" style="max-width:100%">
    </div>
  </div>

  <div class="page" style="z-index:6">
    <div class="content">
      <p>Call us: 01234 567890</p>
      <p>Thank you for reading.</p>
    </div>
  </div>
</div>

<script>
let dragging = false;
let startX;
let currentPage = 0;

$(document).on("mousedown touchstart", ".page", function(e) {
  e.preventDefault();
  dragging = true;
  startX = e.pageX || e.touches[0].pageX;
});

$(document).on("mousemove touchmove", function(e) {
  if (!dragging) return;
  let moveX = e.pageX || e.touches[0].pageX;
  let diff = startX - moveX;
  let angle = (diff * 90) / 400;
  let page = $(".page").eq(currentPage);
  page.css("transform", `rotateY(${-angle}deg)`);
});

$(document).on("mouseup touchend", function() {
  if (!dragging) return;
  dragging = false;

  let lastAngle = $(".page").eq(currentPage).css("transform");
  let num = parseFloat(lastAngle.match(/rotateY\((.*)deg\)/)[1]);

  let page = $(".page").eq(currentPage);

  if (num > -45) {
    page.transition({ rotateY: 0 }, 300);
  } else {
    page.transition({ 
      rotateY: -180 
    }, 500, "easeInOutQuart", function() {
      $(this).css({ 
        zIndex: 1, 
        transform: "rotateY(0deg)", 
        opacity: 0 
      });
      currentPage++;
      if (currentPage >= $(".page").length) currentPage = $(".page").length - 1;
      $(".page").eq(currentPage).css({ opacity: 1, zIndex: 9 });
    });
  }
});
</script>

</body>
</html>
